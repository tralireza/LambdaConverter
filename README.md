Concept for Lambda FFMPEG Converter
===

Idea
=
Basically, we use a standalone ffmpeg/ffprobe next to our "bootstrap.go" Lambda.
Go function arranges a copy of the input file (audio/video) with a GET from AWS S3 to local "ephemeral" storage (Max: 10G) then calls ffmpeg with correct conversion parameters. The output generated by the conversion is then copied back to the S3 with a PUT.

Using Go as the Lambda bootstrap is boosted by AWS SDK for Go.

TL;DR
=
Clone the repository on a (modern) Linux and run LambdaConverter...
```
i7:~/ffmpeg $ ./LambdaConverter 
Lambda Converter ->
ffprobe version n7.0-28-ge7d2238ad7 Copyright (c) 2007-2024 the FFmpeg developers
built with gcc 11 (GCC)
configuration: --enable-static --disable-debug --disable-htmlpages --disable-podpages --disable-txtpages
libavutil      59.  8.100 / 59.  8.100
libavcodec     61.  3.100 / 61.  3.100
libavformat    61.  1.100 / 61.  1.100
libavdevice    61.  1.100 / 61.  1.100
libavfilter    10.  1.100 / 10.  1.100
libswscale      8.  1.100 /  8.  1.100
libswresample   5.  1.100 /  5.  1.100
```

Host
=
The host is the layer on AWS Lambda that will run the fuction (Go bootstrap.go). The current "provided.al2023" is "Amazon Linux 2023" which is LIBC 2.34 like the local machine I used here to compile ffmpeg/ffprobe.

This will ensure ffmpeg/ffprobe will run on the layer that runs the Lambda function itself.
```
i7:~/ffmpeg $ uname -a
Linux i7.domain.local 6.5.5-rt22 #19 SMP PREEMPT_DYNAMIC Mon Oct  2 16:05:41 BST 2023 x86_64 x86_64 x86_64 GNU/Linux

i7:~/ffmpeg $ /lib64/libc.so.6 
GNU C Library (GNU libc) stable release version 2.34.
Copyright (C) 2021 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.
Compiled by GNU CC version 11.4.1 20231218 (Red Hat 11.4.1-3).
libc ABIs: UNIQUE IFUNC ABSOLUTE
For bug reporting instructions, please see:
<https://www.gnu.org/software/libc/bugs.html>.
```

FFMPEG
=
Statically linked. I have compiled ffmpeg/ffprobe statically so there is no dependency on any dynamic libraries. The ELF binary is LIBC 2.34 which is supported by the Lambda layer "provided.al2034" the runs the Go Lambda function itself.

```
i7:~/ffmpeg $ file ffprobe
ffprobe: ELF 64-bit LSB executable, x86-64, version 1 (GNU/Linux), statically linked, BuildID[sha1]=e651d703779d81d45ec309224e3ac9fb4360baee, for GNU/Linux 3.2.0, stripped
```

"Lambda"
=
Go "bootstrap.go" that will interface AWS Lambda to ffprobe/ffmpeg and complete GET/PUT to S3 using aws-skd-go https://github.com/aws/aws-sdk-go.
